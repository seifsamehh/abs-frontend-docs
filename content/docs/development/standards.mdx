---
title: Coding Standards
description: Comprehensive coding standards and conventions for ABS frontend development
---

import { Card, Cards } from "fumadocs-ui/components/card";
import { Callout } from "fumadocs-ui/components/callout";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";

# üìù Coding Standards

<Callout type="info">
  These standards ensure consistency, maintainability, and quality across all
  ABS frontend projects. Follow these guidelines to create code that's easy to
  read, understand, and maintain.
</Callout>

## üîß Code Style & Formatting

### ESLint Configuration

We use ESLint with strict rules for code quality:

```json title=".eslintrc.json"
{
  "extends": [
    "next/core-web-vitals",
    "@typescript-eslint/recommended",
    "prettier"
  ],
  "rules": {
    "prefer-const": "error",
    "no-unused-vars": "off",
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "warn",
    "@typescript-eslint/no-implicit-any": "error",
    "react-hooks/exhaustive-deps": "error",
    "react/jsx-key": "error",
    "react/no-array-index-key": "warn"
  }
}
```

### Prettier Configuration

Consistent code formatting across all projects:

```json title=".prettierrc"
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "endOfLine": "lf"
}
```

## üî∑ TypeScript Standards

<Cards>
  <Card
    title="üîí Strict Mode"
    description="Always use TypeScript strict mode for maximum type safety"
  />
  <Card
    title="üè∑Ô∏è Proper Typing"
    description="Avoid 'any' - use specific types and interfaces"
  />
  <Card
    title="üìù Type Definitions"
    description="Create reusable and well-documented type definitions"
  />
  <Card
    title="üîç Type Guards"
    description="Use type guards for runtime type checking"
  />
</Cards>

### TypeScript Configuration

```json title="tsconfig.json"
{
  "compilerOptions": {
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "exactOptionalPropertyTypes": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noImplicitOverride": true,
    "allowUnusedLabels": false,
    "allowUnreachableCode": false
  }
}
```

### Type Definition Standards

<Tabs items={['Interfaces', 'Types', 'Enums', 'Generics']}>
  <Tab value="Interfaces">
    ```typescript
    // ‚úÖ Well-defined interface
    interface User {
      readonly id: string;
      name: string;
      email: string;
      role: UserRole;
      preferences?: UserPreferences;
      readonly createdAt: Date;
      readonly updatedAt: Date;
    }

    // ‚úÖ Component props interface
    interface ButtonProps {
      children: ReactNode;
      variant?: 'primary' | 'secondary' | 'danger';
      size?: 'sm' | 'md' | 'lg';
      disabled?: boolean;
      loading?: boolean;
      onClick?: () => void;
      className?: string;
    }
    ```

  </Tab>
  <Tab value="Types">
    ```typescript
    // ‚úÖ Union types for specific values
    type Theme = 'light' | 'dark' | 'system';
    type ButtonVariant = 'primary' | 'secondary' | 'outline' | 'ghost';
    
    // ‚úÖ Utility types for data transformation
    type CreateUserRequest = Omit<User, 'id' | 'createdAt' | 'updatedAt'>;
    type UpdateUserRequest = Partial<Pick<User, 'name' | 'email' | 'preferences'>>;
    
    // ‚úÖ Conditional types
    type ApiResponse<T> = T extends string ? { message: T } : { data: T };
    ```
  </Tab>
  <Tab value="Enums">
    ```typescript
    // ‚úÖ Use const assertions instead of enums when possible
    const UserRole = {
      ADMIN: 'admin',
      USER: 'user', 
      MODERATOR: 'moderator'
    } as const;
    
    type UserRole = typeof UserRole[keyof typeof UserRole];
    
    // ‚úÖ Use enums for numeric values or when you need reverse mapping
    enum HttpStatus {
      OK = 200,
      BAD_REQUEST = 400,
      UNAUTHORIZED = 401,
      FORBIDDEN = 403,
      NOT_FOUND = 404,
      INTERNAL_SERVER_ERROR = 500
    }
    ```
  </Tab>
  <Tab value="Generics">
    ```typescript
    // ‚úÖ Generic function with constraints
    function apiRequest<T extends Record<string, unknown>>(
      endpoint: string,
      data?: T
    ): Promise<ApiResponse<T>> {
      return fetch(endpoint, {
        method: data ? 'POST' : 'GET',
        body: data ? JSON.stringify(data) : undefined,
      }).then(res => res.json());
    }

    // ‚úÖ Generic component with default type
    interface SelectProps<T = string> {
      options: Array<{ label: string; value: T }>;
      value: T;
      onChange: (value: T) => void;
    }
    ```

  </Tab>
</Tabs>

## ‚öõÔ∏è React Component Standards

### Component Structure Template

````tsx
import { FC, ReactNode, forwardRef } from "react";
import { cn } from "@/lib/utils";

// ‚úÖ Well-defined props interface
interface ComponentProps {
  children: ReactNode;
  className?: string;
  variant?: "primary" | "secondary";
  size?: "sm" | "md" | "lg";
  disabled?: boolean;
}

/**
 * Component description with usage examples
 *
 * @example
 * ```tsx
 * <Component variant="primary" size="lg">
 *   Click me
 * </Component>
 * ```
 */
export const Component: FC<ComponentProps> = ({
  children,
  className,
  variant = "primary",
  size = "md",
  disabled = false,
  ...props
}) => {
  const baseClasses =
    "inline-flex items-center justify-center font-medium rounded-md transition-colors";

  const variantClasses = {
    primary: "bg-primary text-primary-foreground hover:bg-primary/90",
    secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
  };

  const sizeClasses = {
    sm: "px-3 py-1.5 text-sm",
    md: "px-4 py-2 text-base",
    lg: "px-6 py-3 text-lg",
  };

  return (
    <div
      className={cn(
        baseClasses,
        variantClasses[variant],
        sizeClasses[size],
        disabled && "opacity-50 cursor-not-allowed pointer-events-none",
        className
      )}
      aria-disabled={disabled}
      {...props}
    >
      {children}
    </div>
  );
};

// ‚úÖ Export with display name for better debugging
Component.displayName = "Component";
````

### forwardRef Components

```tsx
import { forwardRef, HTMLAttributes } from "react";
import { cn } from "@/lib/utils";

interface InputProps extends HTMLAttributes<HTMLInputElement> {
  type?: "text" | "email" | "password" | "number";
  error?: string;
  label?: string;
}

// ‚úÖ Using forwardRef for form components
export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ className, type = "text", error, label, ...props }, ref) => {
    return (
      <div className="space-y-1">
        {label && (
          <label className="text-sm font-medium text-foreground">{label}</label>
        )}
        <input
          type={type}
          ref={ref}
          className={cn(
            "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",
            "text-sm ring-offset-background placeholder:text-muted-foreground",
            "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",
            "disabled:cursor-not-allowed disabled:opacity-50",
            error && "border-destructive focus-visible:ring-destructive",
            className
          )}
          {...props}
        />
        {error && <p className="text-sm text-destructive">{error}</p>}
      </div>
    );
  }
);

Input.displayName = "Input";
```

### Naming Conventions

<Callout type="note">
  Consistent naming improves code readability and team collaboration.
</Callout>

**Components & Files:**

- **Components**: PascalCase (`UserProfile`, `NavigationMenu`)
- **Component Files**: PascalCase (`UserProfile.tsx`, `NavigationMenu.tsx`)
- **Utility Files**: kebab-case (`api-client.ts`, `date-utils.ts`)
- **Hook Files**: camelCase starting with "use" (`useLocalStorage.ts`)

**Variables & Functions:**

- **Variables**: camelCase (`userName`, `isLoading`, `fetchUserData`)
- **Functions**: camelCase with verb prefix (`handleSubmit`, `validateEmail`)
- **Constants**: SCREAMING_SNAKE_CASE (`API_BASE_URL`, `MAX_RETRY_ATTEMPTS`)
- **Private functions**: underscore prefix (`_validateInput`, `_parseResponse`)

**Types & Interfaces:**

- **Interfaces**: PascalCase with descriptive suffix (`UserProps`, `ApiResponse`)
- **Types**: PascalCase (`Theme`, `UserRole`, `ButtonVariant`)
- **Generic type parameters**: Single letter starting with T (`<T>`, `<K>`, `<V>`)

## üé® CSS & Styling Standards

### Tailwind CSS Guidelines

```tsx
// ‚úÖ Organized class order: layout ‚Üí spacing ‚Üí typography ‚Üí colors ‚Üí effects
<div className="flex items-center justify-between p-4 text-lg font-medium text-foreground bg-background border border-border rounded-lg shadow-sm hover:shadow-md transition-shadow">
  Content
</div>

// ‚úÖ Responsive design mobile-first
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
  Content
</div>

// ‚úÖ Dark mode support
<div className="bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
  Content
</div>
```

### CSS Custom Properties

```css
/* ‚úÖ Design tokens in CSS custom properties */
:root {
  --primary: 210 40% 98%;
  --primary-foreground: 210 40% 8%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 210 40% 9%;
  --muted: 210 40% 96%;
  --muted-foreground: 215 16% 47%;
  --accent: 210 40% 96%;
  --accent-foreground: 210 40% 9%;
  --border: 210 40% 80%;
  --input: 210 40% 80%;
  --ring: 210 40% 75%;
  --radius: 0.5rem;
}

.dark {
  --primary: 210 40% 2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 4%;
  --secondary-foreground: 210 40% 96%;
  /* ... other dark mode variables */
}
```

### Component-Specific Styles

```css
/* ‚úÖ Component classes using @apply */
.card {
  @apply rounded-lg border bg-card text-card-foreground shadow-sm;
}

.card-header {
  @apply flex flex-col space-y-1.5 p-6;
}

.card-content {
  @apply p-6 pt-0;
}

.card-footer {
  @apply flex items-center p-6 pt-0;
}
```

## üîå API Integration Standards

### API Client Structure

```typescript
// ‚úÖ Robust API client with error handling
interface ApiClientConfig {
  baseURL: string;
  timeout?: number;
  headers?: Record<string, string>;
}

class ApiClient {
  private baseURL: string;
  private timeout: number;
  private defaultHeaders: Record<string, string>;

  constructor(config: ApiClientConfig) {
    this.baseURL = config.baseURL;
    this.timeout = config.timeout ?? 10000;
    this.defaultHeaders = {
      "Content-Type": "application/json",
      ...config.headers,
    };
  }

  async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {
    const url = `${this.baseURL}${endpoint}`;

    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), this.timeout);

    try {
      const response = await fetch(url, {
        ...options,
        headers: {
          ...this.defaultHeaders,
          ...options.headers,
        },
        signal: controller.signal,
      });

      clearTimeout(timeoutId);

      if (!response.ok) {
        throw new ApiError(
          `HTTP ${response.status}: ${response.statusText}`,
          response.status,
          endpoint
        );
      }

      return await response.json();
    } catch (error) {
      clearTimeout(timeoutId);

      if (error instanceof ApiError) {
        throw error;
      }

      throw new ApiError(
        error instanceof Error ? error.message : "Unknown error",
        0,
        endpoint
      );
    }
  }

  async get<T>(endpoint: string): Promise<T> {
    return this.request<T>(endpoint, { method: "GET" });
  }

  async post<T>(endpoint: string, data: unknown): Promise<T> {
    return this.request<T>(endpoint, {
      method: "POST",
      body: JSON.stringify(data),
    });
  }

  async put<T>(endpoint: string, data: unknown): Promise<T> {
    return this.request<T>(endpoint, {
      method: "PUT",
      body: JSON.stringify(data),
    });
  }

  async delete<T>(endpoint: string): Promise<T> {
    return this.request<T>(endpoint, { method: "DELETE" });
  }
}

// ‚úÖ Custom error class for API errors
export class ApiError extends Error {
  constructor(message: string, public status: number, public endpoint: string) {
    super(message);
    this.name = "ApiError";
  }
}

export const apiClient = new ApiClient({
  baseURL: process.env.NEXT_PUBLIC_API_URL || "http://localhost:3000/api",
});
```

### Error Handling Patterns

```typescript
// ‚úÖ Result pattern for predictable error handling
type Result<T, E = Error> =
  | { success: true; data: T }
  | { success: false; error: E };

async function fetchUser(id: string): Promise<Result<User, ApiError>> {
  try {
    const user = await apiClient.get<User>(`/users/${id}`);
    return { success: true, data: user };
  } catch (error) {
    return {
      success: false,
      error:
        error instanceof ApiError
          ? error
          : new ApiError("Unknown error", 0, "/users"),
    };
  }
}

// ‚úÖ Usage in components
const UserProfile: FC<{ userId: string }> = ({ userId }) => {
  const [user, setUser] = useState<User | null>(null);
  const [error, setError] = useState<string | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const loadUser = async () => {
      setLoading(true);
      setError(null);

      const result = await fetchUser(userId);

      if (result.success) {
        setUser(result.data);
      } else {
        setError(result.error.message);
      }

      setLoading(false);
    };

    loadUser();
  }, [userId]);

  if (loading) return <LoadingSpinner />;
  if (error) return <ErrorMessage message={error} />;
  if (!user) return <NotFound />;

  return <UserDetails user={user} />;
};
```

## üìÅ File Organization Standards

### Import Organization

```typescript
// ‚úÖ Organized imports in specific order
// 1. React and third-party libraries
import { useState, useEffect, useMemo } from "react";
import { useQuery } from "@tanstack/react-query";
import { z } from "zod";

// 2. Internal imports (absolute paths)
import { Button } from "@/components/ui/button";
import { apiClient } from "@/lib/api";
import { userSchema } from "@/lib/validations";

// 3. Relative imports
import { UserCard } from "./user-card";
import { formatUserName } from "../utils";

// 4. Type-only imports (separate section)
import type { User } from "@/types/user";
import type { FC } from "react";
```

### Barrel Exports

```typescript
// ‚úÖ Clean barrel exports in index.ts files
export { UserCard } from "./UserCard";
export { UserForm } from "./UserForm";
export { UserList } from "./UserList";
export type { UserCardProps } from "./UserCard";
export type { UserFormProps } from "./UserForm";
export type { UserListProps } from "./UserList";
```

## üß™ Testing Standards

### Unit Test Structure

```typescript
// ‚úÖ Well-structured test file
import { render, screen, fireEvent, waitFor } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import { Button } from "./Button";

describe("Button Component", () => {
  describe("Rendering", () => {
    it("renders children correctly", () => {
      render(<Button>Click me</Button>);
      expect(
        screen.getByRole("button", { name: "Click me" })
      ).toBeInTheDocument();
    });

    it("applies variant classes correctly", () => {
      render(<Button variant="secondary">Button</Button>);
      expect(screen.getByRole("button")).toHaveClass("bg-secondary");
    });
  });

  describe("Interactions", () => {
    it("calls onClick when clicked", async () => {
      const user = userEvent.setup();
      const handleClick = vi.fn();

      render(<Button onClick={handleClick}>Click me</Button>);

      await user.click(screen.getByRole("button"));
      expect(handleClick).toHaveBeenCalledTimes(1);
    });

    it("does not call onClick when disabled", async () => {
      const user = userEvent.setup();
      const handleClick = vi.fn();

      render(
        <Button onClick={handleClick} disabled>
          Button
        </Button>
      );

      await user.click(screen.getByRole("button"));
      expect(handleClick).not.toHaveBeenCalled();
    });
  });

  describe("Loading State", () => {
    it("shows loading indicator when loading", () => {
      render(<Button loading>Loading</Button>);

      expect(screen.getByRole("button")).toBeDisabled();
      expect(screen.getByTestId("loading-spinner")).toBeInTheDocument();
    });
  });
});
```

## üîí Security Standards

### Input Validation

```typescript
import { z } from "zod";

// ‚úÖ Comprehensive validation schemas
const userRegistrationSchema = z.object({
  email: z.string().email("Invalid email address").max(255),
  password: z
    .string()
    .min(8, "Password must be at least 8 characters")
    .regex(
      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,
      "Password must contain uppercase, lowercase, and number"
    ),
  name: z.string().min(2, "Name must be at least 2 characters").max(100),
  age: z.number().int().min(13, "Must be at least 13 years old").max(120),
});

type UserRegistration = z.infer<typeof userRegistrationSchema>;

// ‚úÖ Server-side validation
export async function registerUser(data: unknown): Promise<Result<User>> {
  const validation = userRegistrationSchema.safeParse(data);

  if (!validation.success) {
    return {
      success: false,
      error: new ValidationError(validation.error.errors),
    };
  }

  // Process validated data
  const userData = validation.data;
  // ... rest of logic
}
```

### Environment Variables

```typescript
// ‚úÖ Validate environment variables at startup
const envSchema = z.object({
  NEXT_PUBLIC_API_URL: z.string().url("Invalid API URL"),
  DATABASE_URL: z.string().min(1, "Database URL is required"),
  JWT_SECRET: z.string().min(32, "JWT secret must be at least 32 characters"),
  NODE_ENV: z.enum(["development", "production", "test"]),
});

export const env = envSchema.parse(process.env);
```

## üìä Performance Standards

### Code Splitting

```tsx
import { lazy, Suspense } from "react";
import { LoadingSpinner } from "@/components/ui/loading-spinner";

// ‚úÖ Route-based code splitting
const Dashboard = lazy(() => import("./Dashboard"));
const Settings = lazy(() => import("./Settings"));

// ‚úÖ Component-based code splitting
const HeavyChart = lazy(() =>
  import("./HeavyChart").then((module) => ({ default: module.Chart }))
);

// ‚úÖ Conditional loading
const AdminPanel = lazy(async () => {
  const { isAdmin } = await import("./auth-utils");
  if (!isAdmin()) {
    throw new Error("Unauthorized");
  }
  return import("./AdminPanel");
});

// ‚úÖ Usage with error boundaries
<Suspense fallback={<LoadingSpinner />}>
  <HeavyChart data={chartData} />
</Suspense>;
```

### Optimization Guidelines

- **Bundle Size**: Monitor and limit bundle size growth
- **Core Web Vitals**: Maintain LCP < 2.5s, FID < 100ms, CLS < 0.1
- **Images**: Always use Next.js Image component with proper optimization
- **Fonts**: Use Next.js Font optimization for web fonts
- **Caching**: Implement proper caching strategies for API responses

<Callout type="tip">
  These standards are living documents. As our team grows and technology
  evolves, we regularly review and update these guidelines. Suggest improvements
  anytime!
</Callout>

## üéØ Quality Gates

All code must pass these quality gates before merging:

- ‚úÖ **TypeScript**: No type errors, strict mode enabled
- ‚úÖ **ESLint**: Zero errors, warnings addressed
- ‚úÖ **Prettier**: Code formatted consistently
- ‚úÖ **Tests**: All tests passing, coverage > 80%
- ‚úÖ **Build**: Successful production build
- ‚úÖ **Performance**: No significant performance regressions
