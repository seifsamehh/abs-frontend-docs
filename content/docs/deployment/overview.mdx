---
title: Deployment Overview
description: Complete guide to building, deploying, and monitoring frontend applications
---

import { Card, Cards } from "fumadocs-ui/components/card";
import { Callout } from "fumadocs-ui/components/callout";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";

# üöÄ Deployment Guide

<Callout type="info">
  This guide covers the complete deployment pipeline for our frontend
  applications, from local development to production monitoring. We use modern
  CI/CD practices to ensure reliable, fast deployments.
</Callout>

## üèóÔ∏è Deployment Architecture

<Cards>
  <Card
    title="üåê Vercel"
    description="Primary hosting platform for Next.js applications"
  />
  <Card
    title="üîÑ GitHub Actions"
    description="CI/CD pipeline for automated deployments"
  />
  <Card
    title="üìä Vercel Analytics"
    description="Performance monitoring and user analytics"
  />
  <Card
    title="üîí Environment Variables"
    description="Secure configuration management"
  />
</Cards>

## üéØ Deployment Environments

<Tabs items={["Development", "Staging", "Production"]}>
  <Tab value="Development">
    - **URL**: `localhost:3000` - **Purpose**: Local development and testing -
    **Features**: Hot reload, debug tools, source maps - **Database**: Local
    development database
  </Tab>
  <Tab value="Staging">
    - **URL**: `staging.yourapp.com` - **Purpose**: Pre-production testing and
    validation - **Features**: Production-like environment, testing data -
    **Database**: Staging database with test data
  </Tab>
  <Tab value="Production">
    - **URL**: `yourapp.com` - **Purpose**: Live application for end users -
    **Features**: Optimized builds, CDN, monitoring - **Database**: Production
    database with real data
  </Tab>
</Tabs>

## üõ†Ô∏è Build Process

### Local Development

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Start production server
npm run start

# Run tests
npm run test

# Run linting
npm run lint

# Run type checking
npm run type-check
```

### Production Build

```bash
# Clean install
npm ci

# Run tests
npm run test:ci

# Build application
npm run build

# Verify build
npm run build:verify
```

### Build Optimization

```typescript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  // Enable experimental features
  experimental: {
    optimizeCss: true,
    optimizePackageImports: ["@radix-ui/react-icons"],
  },

  // Image optimization
  images: {
    formats: ["image/webp", "image/avif"],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
  },

  // Bundle analyzer
  webpack: (config, { isServer }) => {
    if (!isServer) {
      config.resolve.fallback = {
        ...config.resolve.fallback,
        fs: false,
      };
    }
    return config;
  },

  // Compression
  compress: true,

  // Headers for security
  async headers() {
    return [
      {
        source: "/(.*)",
        headers: [
          {
            key: "X-Frame-Options",
            value: "DENY",
          },
          {
            key: "X-Content-Type-Options",
            value: "nosniff",
          },
          {
            key: "Referrer-Policy",
            value: "origin-when-cross-origin",
          },
        ],
      },
    ];
  },
};

module.exports = nextConfig;
```

## üîÑ CI/CD Pipeline

### GitHub Actions Workflow

```yaml
# .github/workflows/deploy.yml
name: Deploy to Vercel

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "18"
          cache: "npm"

      - name: Install dependencies
        run: npm ci

      - name: Run linting
        run: npm run lint

      - name: Run type checking
        run: npm run type-check

      - name: Run tests
        run: npm run test:ci

      - name: Run E2E tests
        run: npm run test:e2e

      - name: Build application
        run: npm run build

      - name: Upload build artifacts
        uses: actions/upload-artifact@v4
        with:
          name: build-files
          path: .next/

  deploy-staging:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    steps:
      - uses: actions/checkout@v4

      - name: Deploy to Vercel (Staging)
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: "--prod"
          scope: ${{ secrets.VERCEL_ORG_ID }}

  deploy-production:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v4

      - name: Deploy to Vercel (Production)
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: "--prod"
          scope: ${{ secrets.VERCEL_ORG_ID }}
```

### Deployment Strategies

<Cards>
  <Card
    title="üöÄ Blue-Green Deployment"
    description="Zero-downtime deployments with instant rollback"
  />
  <Card
    title="üîÑ Rolling Deployment"
    description="Gradual rollout with health checks"
  />
  <Card
    title="üéØ Feature Flags"
    description="Controlled feature rollouts and A/B testing"
  />
  <Card
    title="üìä Canary Releases"
    description="Gradual rollout to percentage of users"
  />
</Cards>

## üåç Environment Configuration

### Environment Variables

```bash
# .env.local (Development)
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_APP_ENV=development
DATABASE_URL=postgresql://localhost:5432/app_dev
NEXTAUTH_SECRET=your-secret-key
NEXTAUTH_URL=http://localhost:3000

# .env.staging (Staging)
NEXT_PUBLIC_API_URL=https://api-staging.yourapp.com
NEXT_PUBLIC_APP_ENV=staging
DATABASE_URL=postgresql://staging-db:5432/app_staging
NEXTAUTH_SECRET=your-staging-secret
NEXTAUTH_URL=https://staging.yourapp.com

# .env.production (Production)
NEXT_PUBLIC_API_URL=https://api.yourapp.com
NEXT_PUBLIC_APP_ENV=production
DATABASE_URL=postgresql://prod-db:5432/app_prod
NEXTAUTH_SECRET=your-production-secret
NEXTAUTH_URL=https://yourapp.com
```

### Vercel Configuration

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "framework": "nextjs",
  "installCommand": "npm ci",
  "devCommand": "npm run dev",
  "env": {
    "NEXT_PUBLIC_API_URL": "@api-url",
    "NEXT_PUBLIC_APP_ENV": "@app-env",
    "DATABASE_URL": "@database-url",
    "NEXTAUTH_SECRET": "@nextauth-secret",
    "NEXTAUTH_URL": "@nextauth-url"
  },
  "functions": {
    "app/api/**/*.ts": {
      "maxDuration": 30
    }
  },
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        }
      ]
    }
  ]
}
```

## üìä Performance Monitoring

### Core Web Vitals

```typescript
// lib/analytics.ts
import { getCLS, getFID, getFCP, getLCP, getTTFB } from "web-vitals";

export function reportWebVitals(metric: any) {
  // Send to analytics service
  if (metric.label === "web-vital") {
    // Send to your analytics service
    console.log(metric);
  }
}

// pages/_app.tsx
export function reportWebVitals(metric: any) {
  if (metric.label === "web-vital") {
    getCLS(reportWebVitals);
    getFID(reportWebVitals);
    getFCP(reportWebVitals);
    getLCP(reportWebVitals);
    getTTFB(reportWebVitals);
  }
}
```

### Error Tracking

```typescript
// lib/error-tracking.ts
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  environment: process.env.NEXT_PUBLIC_APP_ENV,
  tracesSampleRate: 1.0,
  beforeSend(event) {
    // Filter out development errors
    if (process.env.NODE_ENV === "development") {
      return null;
    }
    return event;
  },
});

export { Sentry };
```

### Performance Budget

```json
{
  "budget": [
    {
      "path": "/*",
      "timings": [
        {
          "metric": "first-contentful-paint",
          "budget": 1800
        },
        {
          "metric": "largest-contentful-paint",
          "budget": 2500
        },
        {
          "metric": "cumulative-layout-shift",
          "budget": 0.1
        }
      ],
      "resourceSizes": [
        {
          "resourceType": "script",
          "budget": 500
        },
        {
          "resourceType": "total",
          "budget": 1000
        }
      ]
    }
  ]
}
```

## üîí Security Configuration

### Content Security Policy

```typescript
// next.config.js
const securityHeaders = [
  {
    key: "Content-Security-Policy",
    value: `
      default-src 'self';
      script-src 'self' 'unsafe-eval' 'unsafe-inline';
      style-src 'self' 'unsafe-inline';
      img-src 'self' data: https:;
      font-src 'self' data:;
      connect-src 'self' https://api.yourapp.com;
      frame-ancestors 'none';
    `
      .replace(/\s{2,}/g, " ")
      .trim(),
  },
  {
    key: "X-Frame-Options",
    value: "DENY",
  },
  {
    key: "X-Content-Type-Options",
    value: "nosniff",
  },
  {
    key: "Referrer-Policy",
    value: "origin-when-cross-origin",
  },
];

module.exports = {
  async headers() {
    return [
      {
        source: "/(.*)",
        headers: securityHeaders,
      },
    ];
  },
};
```

### Environment Security

```bash
# .env.example (Template for environment variables)
# Copy this file to .env.local and fill in your values

# Public variables (exposed to client)
NEXT_PUBLIC_API_URL=
NEXT_PUBLIC_APP_ENV=

# Private variables (server-side only)
DATABASE_URL=
NEXTAUTH_SECRET=
NEXTAUTH_URL=
SENTRY_DSN=
```

## üö® Monitoring & Alerting

### Health Checks

```typescript
// app/api/health/route.ts
import { NextResponse } from "next/server";

export async function GET() {
  try {
    // Check database connection
    await checkDatabaseConnection();

    // Check external APIs
    await checkExternalAPIs();

    return NextResponse.json({
      status: "healthy",
      timestamp: new Date().toISOString(),
      services: {
        database: "up",
        api: "up",
        cache: "up",
      },
    });
  } catch (error) {
    return NextResponse.json(
      {
        status: "unhealthy",
        timestamp: new Date().toISOString(),
        error: error.message,
      },
      { status: 500 }
    );
  }
}
```

### Uptime Monitoring

```yaml
# uptime-monitoring.yml
version: "3"
services:
  uptime-monitor:
    image: uptime-kuma/uptime-kuma:1
    container_name: uptime-kuma
    volumes:
      - uptime-kuma:/app/data
    ports:
      - "3001:3001"
    environment:
      - UPTIME_KUMA_DISABLE_FRAME_SAMEORIGIN=1
    restart: always

volumes:
  uptime-kuma:
```

## üîß Troubleshooting

### Common Deployment Issues

<Cards>
  <Card
    title="üö´ Build Failures"
    description="Check dependencies, environment variables, and build logs"
  />
  <Card
    title="‚è±Ô∏è Performance Issues"
    description="Monitor Core Web Vitals and optimize bundle size"
  />
  <Card
    title="üîí Security Issues"
    description="Review CSP headers and environment variable exposure"
  />
  <Card
    title="üì± Mobile Issues"
    description="Test responsive design and touch interactions"
  />
</Cards>

### Debugging Commands

```bash
# Check build locally
npm run build
npm run start

# Analyze bundle size
npm run analyze

# Check for security vulnerabilities
npm audit

# Run performance tests
npm run test:performance

# Check accessibility
npm run test:a11y
```

### Rollback Procedures

```bash
# Rollback to previous deployment
vercel rollback

# Rollback to specific deployment
vercel rollback <deployment-url>

# Check deployment history
vercel ls

# Get deployment details
vercel inspect <deployment-url>
```

## üìà Performance Optimization

### Bundle Analysis

```bash
# Install bundle analyzer
npm install --save-dev @next/bundle-analyzer

# Analyze bundle
npm run analyze
```

### Image Optimization

```typescript
// next.config.js
const withBundleAnalyzer = require("@next/bundle-analyzer")({
  enabled: process.env.ANALYZE === "true",
});

module.exports = withBundleAnalyzer({
  images: {
    formats: ["image/webp", "image/avif"],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },
});
```

### Caching Strategies

```typescript
// app/api/data/route.ts
import { NextResponse } from "next/server";

export async function GET() {
  const data = await fetchData();

  return NextResponse.json(data, {
    headers: {
      "Cache-Control": "public, s-maxage=60, stale-while-revalidate=300",
    },
  });
}
```

## üéØ Best Practices

<Callout type="tip">
  Follow these best practices for successful deployments:
</Callout>

1. **Test Before Deploy** - Always run tests before deploying
2. **Use Environment Variables** - Never hardcode sensitive data
3. **Monitor Performance** - Track Core Web Vitals and user experience
4. **Implement Rollbacks** - Have a plan for quick rollbacks
5. **Security First** - Implement proper security headers and practices
6. **Document Everything** - Keep deployment procedures documented
7. **Automate Everything** - Use CI/CD for consistent deployments

## üìö Additional Resources

- [Vercel Documentation](https://vercel.com/docs)
- [Next.js Deployment](https://nextjs.org/docs/deployment)
- [GitHub Actions](https://docs.github.com/en/actions)
- [Web Vitals](https://web.dev/vitals/)
- [Security Headers](https://securityheaders.com/)

<Callout type="note">
  Remember: Good deployment practices are essential for maintaining a reliable,
  performant application. Regular monitoring and optimization help ensure the
  best user experience.
</Callout>
